import { useRef, useState } from 'react';
import styled from 'styled-components';
import SvgComponent from '../../components/mapSpace/SvgComponent';
/* import Plano from './Plano'; */
import { Seatmap } from '@alisaitteke/seatmap-canvas-react';

const Container = styled.div`
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
`;

const Title = styled.h3`
  font-family: "Marianina FY Black";
  font-size: 25px;
  margin-left: 20px;
`;

const config = {
  legend: true,
  style: {
    seat: {
      hover: '#f1de0a', // Color al pasar el ratón por encima
      color: "#ffffff", // Color del asiento
      selected: 'var(--violet)', // Color del asiento seleccionado
      check_icon_color: '#fff', // Color del icono de verificación
      not_salable: "var(--softgray)", // Color del asiento no disponible para la venta
      focus: '#13f5f2', // Color del asiento enfocado
    },
    legend: {
      font_color: '#3b3b3b', // Color de la fuente de la leyenda
      show: false, // Mostrar u ocultar la leyenda
    },
    block: {
      title_color: 'var(--darkgray)', // Color del título del bloque
    },
  },
};

const initialBlocks = [
  { id: 1, title: "T1", available: true, seats: [
    { x: 13.44, y: 534.21, width: 34.79, height: 21.43 }, { x: 24.72, y: 559.82, width: 12.16, height: 10.5 },
    ],
    path: "M30.8,577.3a.52.52,0,0,1-.52-.46l-.33-4.2H24.4a.5.5,0,0,1-.5-.5v-2.23H21.56a.5.5,0,1,1,0-1H24.4a.5.5,0,0,1,.5.5v2.23h5.51a.52.52,0,0,1,.38.17.52.52,0,0,1,.37-.17h5.52v-2.23a.5.5,0,0,1,.5-.5H40a.5.5,0,0,1,0,1H37.68v2.23a.5.5,0,0,1-.5.5H31.63l-.33,4.2A.5.5,0,0,1,30.8,577.3Z"
  },
  { id: 2, title: "T2", available: true, seats: [  
    { x: 48.23, y: 534.21, width: 34.79, height: 21.43 }, { x: 59.52, y: 559.82, width: 12.16, height: 10.5 },
    ],  
    path: "M65.6,577.3a.53.53,0,0,1-.53-.46l-.32-4.2H59.2a.5.5,0,0,1-.5-.5v-2.23H56.36a.5.5,0,0,1,0-1H59.2a.5.5,0,0,1,.5.5v2.23h5.51a.5.5,0,0,1,.37.17.54.54,0,0,1,.38-.17h5.51v-2.23a.5.5,0,0,1,.5-.5h2.84a.5.5,0,1,1,0,1H72.47v2.23a.5.5,0,0,1-.5.5H66.42l-.32,4.2A.5.5,0,0,1,65.6,577.3Z"
  },
  { id: 3, title: "T3", available: false, seats: [
    { x: 83.03, y: 534.21, width: 34.79, height: 21.43 }, { x: 94.31, y: 559.82, width: 12.16, height: 10.5 },
    ],
    path: "M100.39,577.3a.52.52,0,0,1-.52-.46l-.33-4.2H94a.5.5,0,0,1-.5-.5v-2.23H91.15a.5.5,0,1,1,0-1H94a.5.5,0,0,1,.5.5v2.23H100a.5.5,0,0,0,.75,0h5.52v-2.23a.5.5,0,0,1,.5-.5h2.84a.5.5,0,1,1,0,1h-2.34v2.23a.5.5,0,0,1-.5.5h-5.55l-.33,4.2A.5.5,0,0,1,100.39,577.3Z"
  },
  { id: 4, title: "T4", available: false, seats: [
    { x: 13.44, y: 512.78, width: 34.79, height: 21.43 }, { x: 24.72, y: 498.09, width: 12.16, height: 10.5 },
    ],
    path: "M30.8,491.11a.52.52,0,0,0-.52.46l-.33,4.2H24.4a.51.51,0,0,0-.5.5v2.23H21.56a.51.51,0,0,0-.5.5.5.5,0,0,0,.5.5H24.4a.5.5,0,0,0,.5-.5v-2.23h5.51a.49.49,0,0,0,.38-.17.48.48,0,0,0,.37.17h5.52V499a.5.5,0,0,0,.5.5H40a.5.5,0,0,0,.5-.5.51.51,0,0,0-.5-.5H37.68v-2.23a.5.5,0,0,0-.5-.5H31.63l-.33-4.2A.5.5,0,0,0,30.8,491.11Z"
  },
  { id: 5, title: "T5", available: true, seats: [
    { x: 48.23, y: 512.78, width: 34.79, height: 21.43 }, { x: 59.52, y: 498.09, width: 12.16, height: 10.5 },
    ],
    path: "M65.6,491.11a.53.53,0,0,0-.53.46l-.32,4.2H59.2a.5.5,0,0,0-.5.5v2.23H56.36a.5.5,0,0,0-.5.5.5.5,0,0,0,.5.5H59.2a.5.5,0,0,0,.5-.5v-2.23h5.51a.47.47,0,0,0,.37-.17.5.5,0,0,0,.38.17h5.51V499a.5.5,0,0,0,.5.5h2.84a.5.5,0,0,0,.5-.5.5.5,0,0,0-.5-.5H72.47v-2.23a.5.5,0,0,0-.5-.5H66.42l-.32-4.2A.5.5,0,0,0,65.6,491.11Z"
  },
  
  { id: 6, title: "T6", available: true, seats: [
    { x: 83.03, y: 512.78, width: 34.79, height: 21.43 }, { x: 94.31, y: 498.09, width: 12.16, height: 10.5 },
    ],
    path: "M100.39,491.11a.52.52,0,0,0-.52.46l-.33,4.2H94a.5.5,0,0,0-.5.5v2.23H91.15a.51.51,0,0,0-.5.5.5.5,0,0,0,.5.5H94a.5.5,0,0,0,.5-.5v-2.23H100a.49.49,0,0,0,.38-.17.48.48,0,0,0,.37.17h5.52V499a.5.5,0,0,0,.5.5h2.84a.5.5,0,0,0,.5-.5.51.51,0,0,0-.5-.5h-2.34v-2.23a.51.51,0,0,0-.5-.5h-5.55l-.33-4.2A.5.5,0,0,0,100.39,491.11Z"
  },
    { id: 7, title: "T7", available: false, seats: [
      { x: 13.44, y: 441.19, width: 34.79, height: 21.43 }, { x: 24.72, y: 466.8, width: 12.16, height: 10.5 },
      ],
      path: "M30.8,484.28a.52.52,0,0,1-.52-.46l-.33-4.2H24.4a.5.5,0,0,1-.5-.5v-2.23H21.56a.51.51,0,0,1-.5-.5.5.5,0,0,1,.5-.5H24.4a.5.5,0,0,1,.5.5v2.23h5.51a.52.52,0,0,1,.38.17.52.52,0,0,1,.37-.17h5.52v-2.23a.5.5,0,0,1,.5-.5H40a.5.5,0,0,1,.5.5.51.51,0,0,1-.5.5H37.68v2.23a.5.5,0,0,1-.5.5H31.63l-.33,4.2A.5.5,0,0,1,30.8,484.28Z"
    },
    { id: 8, title: "T8", available: true, seats: [  
      { x: 48.23, y: 441.19, width: 34.79, height: 21.43 }, { x: 59.52, y: 466.8, width: 12.16, height: 10.5 },
      ],  
      path: "M65.6,484.28a.53.53,0,0,1-.53-.46l-.32-4.2H59.2a.5.5,0,0,1-.5-.5v-2.23H56.36a.5.5,0,0,1-.5-.5.5.5,0,0,1,.5-.5H59.2a.5.5,0,0,1,.5.5v2.23h5.51a.5.5,0,0,1,.37.17.54.54,0,0,1,.38-.17h5.51v-2.23a.5.5,0,0,1,.5-.5h2.84a.5.5,0,0,1,.5.5.5.5,0,0,1-.5.5H72.47v2.23a.5.5,0,0,1-.5.5H66.42l-.32,4.2A.5.5,0,0,1,65.6,484.28Z"
    },
    { id: 9, title: "T9", available: true, seats: [
      { x: 83.03, y: 441.19, width: 34.79, height: 21.43 }, { x: 94.31, y: 466.8, width: 12.16, height: 10.5 },
      ],
      path: "M100.39,484.28a.52.52,0,0,1-.52-.46l-.33-4.2H94a.5.5,0,0,1-.5-.5v-2.23H91.15a.51.51,0,0,1-.5-.5.5.5,0,0,1,.5-.5H94a.5.5,0,0,1,.5.5v2.23H100a.5.5,0,0,0,.75,0h5.52v-2.23a.5.5,0,0,1,.5-.5h2.84a.5.5,0,0,1,.5.5.51.51,0,0,1-.5.5h-2.34v2.23a.5.5,0,0,1-.5.5h-5.55l-.33,4.2A.5.5,0,0,1,100.39,484.28Z"
    },
    { id: 10, title: "T10", available: false, seats: [
      { x: 13.44, y: 419.76, width: 34.79, height: 21.43 }, { x: 24.72, y: 405.07, width: 12.16, height: 10.5 },
      ],
      path: "M30.8,398.09a.52.52,0,0,0-.52.46l-.33,4.2H24.4a.5.5,0,0,0-.5.5v2.23H21.56a.51.51,0,0,0-.5.5.5.5,0,0,0,.5.5H24.4a.5.5,0,0,0,.5-.5v-2.23h5.51a.52.52,0,0,0,.38-.17.52.52,0,0,0,.37.17h5.52V406a.5.5,0,0,0,.5.5H40a.5.5,0,0,0,.5-.5.51.51,0,0,0-.5-.5H37.68v-2.23a.5.5,0,0,0-.5-.5H31.63l-.33-4.2A.5.5,0,0,0,30.8,398.09Z"
    },
    { id: 11, title: "T11", reserved: true, available: false, seats: [
      { x: 48.23, y: 419.76, width: 34.79, height: 21.43 }, { x: 59.52, y: 405.07, width: 12.16, height: 10.5 },
      ],
      path: "M65.6,398.09a.53.53,0,0,0-.53.46l-.32,4.2H59.2a.5.5,0,0,0-.5.5v2.23H56.36a.5.5,0,0,0-.5.5.5.5,0,0,0,.5.5H59.2a.5.5,0,0,0,.5-.5v-2.23h5.51a.5.5,0,0,0,.37-.17.54.54,0,0,0,.38.17h5.51V406a.5.5,0,0,0,.5.5h2.84a.5.5,0,0,0,.5-.5.5.5,0,0,0-.5-.5H72.47v-2.23a.5.5,0,0,0-.5-.5H66.42l-.32-4.2A.5.5,0,0,0,65.6,398.09Z"
    },
    { id: 12, title: "T12", reserved: true, available: false, seats: [
      { x: 83.03, y: 419.76, width: 34.79, height: 21.43 }, { x: 94.31, y: 405.07, width: 12.16, height: 10.5 },
      ],
      path: "M100.39,398.09a.52.52,0,0,0-.52.46l-.33,4.2H94a.5.5,0,0,0-.5.5v2.23H91.15a.51.51,0,0,0-.5.5.5.5,0,0,0,.5.5H94a.5.5,0,0,0,.5-.5v-2.23H100a.5.5,0,0,1,.75,0h5.52V406a.5.5,0,0,0,.5.5h2.84a.5.5,0,0,0,.5-.5.51.51,0,0,0-.5-.5h-2.34v-2.23a.5.5,0,0,0-.5-.5h-5.55l-.33-4.2A.5.5,0,0,0,100.39,398.09Z"
    },
    { id: 13, title: "T13", reserved: true, available: false, seats: [
      { x: 107.11, y: 430.47, width: 42.86, height: 21.43, transform:"translate(-312.65, 569.72), rotate(-90)" }, 
      { x: 142.61, y: 435.97, width: 12.16, height: 10.5, transform:"translate(-292.53, 589.91), rotate(-90)" },
      ],
      path: "M160.92,441.22a.52.52,0,0,1-.46.52l-4.2.33v5.55a.5.5,0,0,1-.5.5h-2.23v2.34a.5.5,0,0,1-.5.5.5.5,0,0,1-.5-.5v-2.84a.5.5,0,0,1,.5-.5h2.23v-5.51a.49.49,0,0,1,.17-.38.47.47,0,0,1-.17-.37v-5.52H153a.5.5,0,0,1-.5-.5V432a.5.5,0,0,1,.5-.5.51.51,0,0,1,.5.5v2.34h2.23a.5.5,0,0,1,.5.5v5.55l4.2.33A.5.5,0,0,1,160.92,441.22Z"
    }, 
    { id: 14, title: "T14", reserved: true, seats: [
      { x: 13.44, y: 345.04, width: 34.79, height: 21.43 }, { x: 24.72, y: 370.66, width: 12.16, height: 10.5 },
      ],
      path: "M30.8,388.14a.52.52,0,0,1-.52-.46l-.33-4.2H24.4a.51.51,0,0,1-.5-.5v-2.23H21.56a.51.51,0,0,1-.5-.5.5.5,0,0,1,.5-.5H24.4a.5.5,0,0,1,.5.5v2.23h5.51a.49.49,0,0,1,.38.17.48.48,0,0,1,.37-.17h5.52v-2.23a.5.5,0,0,1,.5-.5H40a.5.5,0,0,1,.5.5.51.51,0,0,1-.5.5H37.68V383a.5.5,0,0,1-.5.5H31.63l-.33,4.2A.5.5,0,0,1,30.8,388.14Z"
    },
    { id: 15, title: "T15", reserved: true, seats: [  
      { x: 48.23, y: 345.04, width: 34.79, height: 21.43 }, { x: 59.52, y: 370.66, width: 12.16, height: 10.5 },
      ],  
      path: "M65.6,388.14a.53.53,0,0,1-.53-.46l-.32-4.2H59.2a.5.5,0,0,1-.5-.5v-2.23H56.36a.5.5,0,0,1-.5-.5.5.5,0,0,1,.5-.5H59.2a.5.5,0,0,1,.5.5v2.23h5.51a.47.47,0,0,1,.37.17.5.5,0,0,1,.38-.17h5.51v-2.23a.5.5,0,0,1,.5-.5h2.84a.5.5,0,0,1,.5.5.5.5,0,0,1-.5.5H72.47V383a.5.5,0,0,1-.5.5H66.42l-.32,4.2A.5.5,0,0,1,65.6,388.14Z"
    },
    { id: 16, title: "T16", reserved: true, seats: [
      { x: 83.03, y: 345.04, width: 34.79, height: 21.43 }, { x: 94.31, y: 370.66, width: 12.16, height: 10.5 },
      ],
      path: "M100.39,388.14a.52.52,0,0,1-.52-.46l-.33-4.2H94a.5.5,0,0,1-.5-.5v-2.23H91.15a.51.51,0,0,1-.5-.5.5.5,0,0,1,.5-.5H94a.5.5,0,0,1,.5.5v2.23H100a.49.49,0,0,1,.38.17.48.48,0,0,1,.37-.17h5.52v-2.23a.5.5,0,0,1,.5-.5h2.84a.5.5,0,0,1,.5.5.51.51,0,0,1-.5.5h-2.34V383a.51.51,0,0,1-.5.5h-5.55l-.33,4.2A.5.5,0,0,1,100.39,388.14Z"
    },
    { id: 17, title: "T17", reserved: false, seats: [
      { x: 13.44, y: 323.61, width: 34.79, height: 21.43 }, { x: 24.72, y: 308.93, width: 12.16, height: 10.5 },
      ],
      path: "M30.8,302a.52.52,0,0,0-.52.46l-.33,4.2H24.4a.5.5,0,0,0-.5.5v2.23H21.56a.5.5,0,0,0,0,1H24.4a.5.5,0,0,0,.5-.5v-2.23h5.51a.52.52,0,0,0,.38-.17.52.52,0,0,0,.37.17h5.52v2.23a.5.5,0,0,0,.5.5H40a.5.5,0,0,0,0-1H37.68v-2.23a.5.5,0,0,0-.5-.5H31.63l-.33-4.2A.5.5,0,0,0,30.8,302Z"
    },
    { id: 18, title: "T18", reserved: true, seats: [
      { x: 48.23, y: 323.61, width: 34.79, height: 21.43 }, { x: 59.52, y: 308.93, width: 12.16, height: 10.5 },
      ],
      path: "M65.6,302a.53.53,0,0,0-.53.46l-.32,4.2H59.2a.5.5,0,0,0-.5.5v2.23H56.36a.5.5,0,0,0,0,1H59.2a.5.5,0,0,0,.5-.5v-2.23h5.51a.5.5,0,0,0,.37-.17.54.54,0,0,0,.38.17h5.51v2.23a.5.5,0,0,0,.5.5h2.84a.5.5,0,0,0,0-1H72.47v-2.23a.5.5,0,0,0-.5-.5H66.42l-.32-4.2A.5.5,0,0,0,65.6,302Z"
    },
    { id: 19, title: "T19", reserved: true, seats: [
      { x: 83.03, y: 323.61, width: 34.79, height: 21.43 }, { x: 94.31, y: 308.93, width: 12.16, height: 10.5 },
      ],
      path: "M100.39,302a.52.52,0,0,0-.52.46l-.33,4.2H94a.5.5,0,0,0-.5.5v2.23H91.15a.5.5,0,0,0,0,1H94a.5.5,0,0,0,.5-.5v-2.23H100a.5.5,0,0,1,.75,0h5.52v2.23a.5.5,0,0,0,.5.5h2.84a.5.5,0,1,0,0-1h-2.34v-2.23a.5.5,0,0,0-.5-.5h-5.55l-.33-4.2A.5.5,0,0,0,100.39,302Z"
    },
    { id: 20, title: "T20", reserved: true, seats: [
      { x: 107.11, y: 334.33, width: 42.86, height: 21.43, transform:"translate(-216.5, 473.58), rotate(-90)" }, 
      { x: 142.61, y: 339.83, width: 12.16, height: 10.5, transform:"translate(-196.39, 493.76), rotate(-90)" },
      ],
      path: "M160.92,345.08a.52.52,0,0,1-.46.52l-4.2.33v5.55a.5.5,0,0,1-.5.5h-2.23v2.34a.51.51,0,0,1-.5.5.5.5,0,0,1-.5-.5v-2.84a.5.5,0,0,1,.5-.5h2.23v-5.52a.48.48,0,0,1,.17-.37.49.49,0,0,1-.17-.38V339.2H153a.5.5,0,0,1-.5-.5v-2.84a.5.5,0,0,1,.5-.5.51.51,0,0,1,.5.5v2.34h2.23a.5.5,0,0,1,.5.5v5.55l4.2.33A.49.49,0,0,1,160.92,345.08Z"
    }, 
    { id: 21, title: "T21", reserved: true, seats: [
      { x: 151.73, y: 207.26, width: 34.79, height: 21.43 }, { x: 163.01, y: 232.87, width: 12.16, height: 10.5 },
      ],
      path: "M169.09,250.35a.52.52,0,0,1-.52-.46l-.33-4.2h-5.55a.5.5,0,0,1-.5-.5V243h-2.34a.5.5,0,0,1,0-1h2.84a.5.5,0,0,1,.5.5v2.23h5.51a.52.52,0,0,1,.38.17.5.5,0,0,1,.37-.17H175v-2.23a.5.5,0,0,1,.5-.5h2.84a.5.5,0,0,1,0,1H176v2.23a.5.5,0,0,1-.5.5h-5.55l-.33,4.2A.5.5,0,0,1,169.09,250.35Z"
    },        
    { id: 22, title: "T22", reserved: true, seats: [
      { x: 197.5, y: 207.26, width: 34.79, height: 21.43 }, { x: 208.79, y: 232.87, width: 12.16, height: 10.5 },
      ],
      path: "M214.87,250.35a.53.53,0,0,1-.53-.46l-.32-4.2h-5.55a.5.5,0,0,1-.5-.5V243h-2.34a.5.5,0,0,1,0-1h2.84a.5.5,0,0,1,.5.5v2.23h5.51a.5.5,0,0,1,.37.17.54.54,0,0,1,.38-.17h5.51v-2.23a.5.5,0,0,1,.5-.5h2.84a.5.5,0,0,1,0,1h-2.34v2.23a.5.5,0,0,1-.5.5h-5.55l-.32,4.2A.5.5,0,0,1,214.87,250.35Z"
    },        
    { id: 23, title: "T23", reserved: true, seats: [
      { x: 232.3, y: 207.26, width: 34.79, height: 21.43 }, { x: 243.58, y: 232.87, width: 12.16, height: 10.5 },
      ],
      path: "M249.66,250.35a.52.52,0,0,1-.52-.46l-.33-4.2h-5.55a.5.5,0,0,1-.5-.5V243h-2.34a.5.5,0,0,1,0-1h2.84a.5.5,0,0,1,.5.5v2.23h5.51a.5.5,0,0,0,.75,0h5.52v-2.23a.5.5,0,0,1,.5-.5h2.84a.5.5,0,0,1,0,1h-2.34v2.23a.5.5,0,0,1-.5.5h-5.55l-.33,4.2A.5.5,0,0,1,249.66,250.35Z"
    },    
    { id: 24, title: "T24", reserved: true, seats: [
      { x: 288.68, y: 207.26, width: 34.79, height: 21.43 }, { x: 299.96, y: 232.87, width: 12.16, height: 10.5 },
      ],
      path: "M306,250.35a.52.52,0,0,1-.52-.46l-.33-4.2h-5.55a.5.5,0,0,1-.5-.5V243H296.8a.5.5,0,0,1,0-1h2.84a.5.5,0,0,1,.5.5v2.23h5.51a.5.5,0,0,0,.75,0h5.52v-2.23a.5.5,0,0,1,.5-.5h2.84a.5.5,0,0,1,0,1h-2.34v2.23a.5.5,0,0,1-.5.5h-5.55l-.33,4.2A.5.5,0,0,1,306,250.35Z"
    },    
    { id: 25, title: "T25", reserved: true, seats: [
      { x: 323.47, y: 207.26, width: 34.79, height: 21.43 }, { x: 334.76, y: 232.87, width: 12.16, height: 10.5 },
      ],
      path: "M340.84,250.35a.53.53,0,0,1-.53-.46l-.32-4.2h-5.55a.5.5,0,0,1-.5-.5V243H331.6a.5.5,0,0,1,0-1h2.84a.5.5,0,0,1,.5.5v2.23h5.51a.5.5,0,0,1,.37.17.54.54,0,0,1,.38-.17h5.51v-2.23a.5.5,0,0,1,.5-.5h2.84a.5.5,0,0,1,0,1h-2.34v2.23a.5.5,0,0,1-.5.5h-5.55l-.32,4.2A.5.5,0,0,1,340.84,250.35Z"
    },   
    { id: 26, title: "T26", reserved: true, seats: [
      { x: 151.73, y: 185.83, width: 34.79, height: 21.43 }, { x: 163.01, y: 171.14, width: 12.16, height: 10.5 },
      ],
      path: "M169.09,164.16a.52.52,0,0,0-.52.46l-.33,4.2h-5.55a.5.5,0,0,0-.5.5v2.23h-2.34a.5.5,0,0,0-.5.5.5.5,0,0,0,.5.5h2.84a.5.5,0,0,0,.5-.5v-2.23h5.51a.49.49,0,0,0,.38-.17.47.47,0,0,0,.37.17H175v2.23a.5.5,0,0,0,.5.5h2.84a.5.5,0,0,0,.5-.5.51.51,0,0,0-.5-.5H176v-2.23a.51.51,0,0,0-.5-.5h-5.55l-.33-4.2A.5.5,0,0,0,169.09,164.16Z"
    },    
    { id: 27, title: "T27", reserved: true, seats: [
      { x: 197.5, y: 185.83, width: 34.79, height: 21.43 }, { x: 208.79, y: 171.14, width: 12.16, height: 10.5 },
      ],
      path: "M214.87,164.16a.53.53,0,0,0-.53.46l-.32,4.2h-5.55a.5.5,0,0,0-.5.5v2.23h-2.34a.5.5,0,0,0-.5.5.5.5,0,0,0,.5.5h2.84a.5.5,0,0,0,.5-.5v-2.23h5.51a.47.47,0,0,0,.37-.17.5.5,0,0,0,.38.17h5.51v2.23a.5.5,0,0,0,.5.5h2.84a.5.5,0,0,0,.5-.5.5.5,0,0,0-.5-.5h-2.34v-2.23a.5.5,0,0,0-.5-.5h-5.55l-.32-4.2A.5.5,0,0,0,214.87,164.16Z"
    },    
    { id: 28, title: "T28", reserved: false, seats: [
      { x: 232.3, y: 185.83, width: 34.79, height: 21.43 }, { x: 243.58, y: 171.14, width: 12.16, height: 10.5 },
      ],
      path: "M249.66,164.16a.52.52,0,0,0-.52.46l-.33,4.2h-5.55a.51.51,0,0,0-.5.5v2.23h-2.34a.51.51,0,0,0-.5.5.5.5,0,0,0,.5.5h2.84a.5.5,0,0,0,.5-.5v-2.23h5.51a.49.49,0,0,0,.38-.17.48.48,0,0,0,.37.17h5.52v2.23a.5.5,0,0,0,.5.5h2.84a.5.5,0,0,0,.5-.5.51.51,0,0,0-.5-.5h-2.34v-2.23a.51.51,0,0,0-.5-.5h-5.55l-.33-4.2A.5.5,0,0,0,249.66,164.16Z"
    },    
    { id: 29, title: "T29", reserved: true, seats: [
      { x: 288.68, y: 185.83, width: 34.79, height: 21.43 }, { x: 299.96, y: 171.14, width: 12.16, height: 10.5 },
      ],
      path: "M306,164.16a.52.52,0,0,0-.52.46l-.33,4.2h-5.55a.5.5,0,0,0-.5.5v2.23H296.8a.51.51,0,0,0-.5.5.5.5,0,0,0,.5.5h2.84a.5.5,0,0,0,.5-.5v-2.23h5.51a.49.49,0,0,0,.38-.17.48.48,0,0,0,.37.17h5.52v2.23a.5.5,0,0,0,.5.5h2.84a.5.5,0,0,0,.5-.5.51.51,0,0,0-.5-.5h-2.34v-2.23a.51.51,0,0,0-.5-.5h-5.55l-.33-4.2A.5.5,0,0,0,306,164.16Z"
    },    
    { id: 30, title: "T30", reserved: true, seats: [
      { x: 323.47, y: 185.83, width: 34.79, height: 21.43 }, { x: 334.76, y: 171.14, width: 12.16, height: 10.5 },
      ],
      path: "M340.84,164.16a.53.53,0,0,0-.53.46l-.32,4.2h-5.55a.5.5,0,0,0-.5.5v2.23H331.6a.5.5,0,0,0-.5.5.5.5,0,0,0,.5.5h2.84a.5.5,0,0,0,.5-.5v-2.23h5.51a.47.47,0,0,0,.37-.17.5.5,0,0,0,.38.17h5.51v2.23a.5.5,0,0,0,.5.5h2.84a.5.5,0,0,0,.5-.5.5.5,0,0,0-.5-.5h-2.34v-2.23a.5.5,0,0,0-.5-.5h-5.55l-.32-4.2A.5.5,0,0,0,340.84,164.16Z"
    },      
    { id: 31, title: "T31", reserved: true, seats: [
      { x: 197.5, y: 98.83, width: 34.79, height: 21.43 }, { x: 208.79, y: 124.44, width: 12.16, height: 10.5 },
      ],
      path: "M214.87,141.92a.53.53,0,0,1-.53-.46l-.32-4.2h-5.55a.5.5,0,0,1-.5-.5v-2.23h-2.34a.5.5,0,0,1,0-1h2.84a.5.5,0,0,1,.5.5v2.23h5.51a.5.5,0,0,1,.37.17.54.54,0,0,1,.38-.17h5.51V134a.5.5,0,0,1,.5-.5h2.84a.5.5,0,0,1,0,1h-2.34v2.23a.5.5,0,0,1-.5.5h-5.55l-.32,4.2A.5.5,0,0,1,214.87,141.92Z"
    },      
    { id: 32, title: "T32", reserved: true, seats: [
      { x: 232.3, y: 98.83, width: 34.79, height: 21.43 }, { x: 243.58, y: 124.44, width: 12.16, height: 10.5 },
      ],
      path: "M249.66,141.92a.52.52,0,0,1-.52-.46l-.33-4.2h-5.55a.5.5,0,0,1-.5-.5v-2.23h-2.34a.5.5,0,0,1,0-1h2.84a.5.5,0,0,1,.5.5v2.23h5.51a.5.5,0,0,0,.75,0h5.52V134a.5.5,0,0,1,.5-.5h2.84a.5.5,0,0,1,0,1h-2.34v2.23a.5.5,0,0,1-.5.5h-5.55l-.33,4.2A.5.5,0,0,1,249.66,141.92Z"
    },    
    { id: 33, title: "T33", reserved: true, seats: [
      { x: 288.68, y: 98.83, width: 34.79, height: 21.43 }, { x: 299.96, y: 124.44, width: 12.16, height: 10.5 },
      ],
      path: "M306,141.92a.52.52,0,0,1-.52-.46l-.33-4.2h-5.55a.5.5,0,0,1-.5-.5v-2.23H296.8a.5.5,0,0,1,0-1h2.84a.5.5,0,0,1,.5.5v2.23h5.51a.5.5,0,0,0,.75,0h5.52V134a.5.5,0,0,1,.5-.5h2.84a.5.5,0,0,1,0,1h-2.34v2.23a.5.5,0,0,1-.5.5h-5.55l-.33,4.2A.5.5,0,0,1,306,141.92Z"
    },   
    { id: 34, title: "T34", reserved: true, seats: [
      { x: 323.47, y: 98.83, width: 34.79, height: 21.43 }, { x: 334.76, y: 124.44, width: 12.16, height: 10.5 },
      ],
      path: "M340.84,141.92a.53.53,0,0,1-.53-.46l-.32-4.2h-5.55a.5.5,0,0,1-.5-.5v-2.23H331.6a.5.5,0,0,1,0-1h2.84a.5.5,0,0,1,.5.5v2.23h5.51a.5.5,0,0,1,.37.17.54.54,0,0,1,.38-.17h5.51V134a.5.5,0,0,1,.5-.5h2.84a.5.5,0,0,1,0,1h-2.34v2.23a.5.5,0,0,1-.5.5h-5.55l-.32,4.2A.5.5,0,0,1,340.84,141.92Z"
    }, 
    { id: 35, title: "T35", reserved: true, seats: [
      { x: 197.5, y: 77.4, width: 34.79, height: 21.43 }, { x: 208.79, y: 62.71, width: 12.16, height: 10.5 },
      ],
      path: "M214.87,55.73a.53.53,0,0,0-.53.46l-.32,4.2h-5.55a.5.5,0,0,0-.5.5v2.24h-2.34a.5.5,0,0,0-.5.5.5.5,0,0,0,.5.5h2.84a.51.51,0,0,0,.5-.5V61.39h5.51a.47.47,0,0,0,.37-.17.5.5,0,0,0,.38.17h5.51v2.24a.51.51,0,0,0,.5.5h2.84a.5.5,0,0,0,.5-.5.5.5,0,0,0-.5-.5h-2.34V60.89a.5.5,0,0,0-.5-.5h-5.55l-.32-4.2A.5.5,0,0,0,214.87,55.73Z"
    },          
    { id: 36, title: "T36", reserved: true, seats: [
      { x: 232.3, y: 77.4, width: 34.79, height: 21.43 }, { x: 243.58, y: 62.71, width: 12.16, height: 10.5 },
      ],
      path: "M249.66,55.73a.52.52,0,0,0-.52.46l-.33,4.2h-5.55a.51.51,0,0,0-.5.5v2.24h-2.34a.5.5,0,0,0-.5.5.51.51,0,0,0,.5.5h2.84a.5.5,0,0,0,.5-.5V61.39h5.51a.49.49,0,0,0,.38-.17.48.48,0,0,0,.37.17h5.52v2.24a.5.5,0,0,0,.5.5h2.84a.51.51,0,0,0,.5-.5.5.5,0,0,0-.5-.5h-2.34V60.89a.51.51,0,0,0-.5-.5h-5.55l-.33-4.2A.5.5,0,0,0,249.66,55.73Z"
    },    
    { id: 37, title: "T37", reserved: true, seats: [
      { x: 288.68, y: 77.4, width: 34.79, height: 21.43 }, { x: 299.96, y: 62.71, width: 12.16, height: 10.5 },
      ],
      path: "M306,55.73a.52.52,0,0,0-.52.46l-.33,4.2h-5.55a.5.5,0,0,0-.5.5v2.24H296.8a.5.5,0,0,0-.5.5.51.51,0,0,0,.5.5h2.84a.5.5,0,0,0,.5-.5V61.39h5.51a.49.49,0,0,0,.38-.17.48.48,0,0,0,.37.17h5.52v2.24a.5.5,0,0,0,.5.5h2.84a.51.51,0,0,0,.5-.5.5.5,0,0,0-.5-.5h-2.34V60.89a.51.51,0,0,0-.5-.5h-5.55l-.33-4.2A.5.5,0,0,0,306,55.73Z"
    },      
    { id: 38, title: "T38", reserved: true, seats: [
      { x: 323.47, y: 77.4, width: 34.79, height: 21.43 }, { x: 334.76, y: 62.71, width: 12.16, height: 10.5 },
      ],
      path: "M340.84,55.73a.53.53,0,0,0-.53.46l-.32,4.2h-5.55a.5.5,0,0,0-.5.5v2.24H331.6a.5.5,0,0,0-.5.5.5.5,0,0,0,.5.5h2.84a.51.51,0,0,0,.5-.5V61.39h5.51a.47.47,0,0,0,.37-.17.5.5,0,0,0,.38.17h5.51v2.24a.51.51,0,0,0,.5.5h2.84a.5.5,0,0,0,.5-.5.5.5,0,0,0-.5-.5h-2.34V60.89a.5.5,0,0,0-.5-.5h-5.55l-.32-4.2A.5.5,0,0,0,340.84,55.73Z"
    },   
    { id: 39, title: "T39", reserved: false, seats: [
      { x: 287.94, y: 372.64, width: 34.79, height: 21.43 }, { x: 299.22, y: 357.96, width: 12.16, height: 10.5 },
      ],
      path: "M305.3,351a.52.52,0,0,0-.52.46l-.33,4.2H298.9a.5.5,0,0,0-.5.5v2.23h-2.34a.5.5,0,0,0-.5.5.51.51,0,0,0,.5.5h2.84a.5.5,0,0,0,.5-.5v-2.23h5.51a.5.5,0,0,1,.75,0h5.52v2.23a.5.5,0,0,0,.5.5h2.84a.51.51,0,0,0,.5-.5.5.5,0,0,0-.5-.5h-2.34v-2.23a.5.5,0,0,0-.5-.5h-5.55l-.33-4.2A.5.5,0,0,0,305.3,351Z"
    },           
    { id: 40, title: "T40", reserved: true, seats: [
      { x: 322.73, y: 372.64, width: 34.79, height: 21.43 }, { x: 334.02, y: 357.96, width: 12.16, height: 10.5 },
      ],
      path: "M340.1,351a.53.53,0,0,0-.53.46l-.32,4.2H333.7a.5.5,0,0,0-.5.5v2.23h-2.34a.5.5,0,0,0-.5.5.5.5,0,0,0,.5.5h2.84a.51.51,0,0,0,.5-.5v-2.23h5.51a.5.5,0,0,0,.37-.17.54.54,0,0,0,.38.17H346v2.23a.51.51,0,0,0,.5.5h2.84a.5.5,0,0,0,.5-.5.5.5,0,0,0-.5-.5H347v-2.23a.5.5,0,0,0-.5-.5h-5.55l-.32-4.2A.5.5,0,0,0,340.1,351Z"
    },    
    { id: 41, title: "T41", reserved: true, seats: [
      { x: 357.53, y: 372.64, width: 34.79, height: 21.43 }, { x: 368.81, y: 357.96, width: 12.16, height: 10.5 },
      ],
      path: "M374.89,351a.52.52,0,0,0-.52.46l-.33,4.2h-5.55a.5.5,0,0,0-.5.5v2.23h-2.34a.5.5,0,0,0-.5.5.51.51,0,0,0,.5.5h2.84a.5.5,0,0,0,.5-.5v-2.23h5.51a.5.5,0,0,1,.75,0h5.52v2.23a.5.5,0,0,0,.5.5h2.84a.51.51,0,0,0,.5-.5.5.5,0,0,0-.5-.5h-2.34v-2.23a.5.5,0,0,0-.5-.5h-5.55l-.33-4.2A.5.5,0,0,0,374.89,351Z"
    }, 
    { id: 42, title: "T42", reserved: true, seats: [
      { x: 287.94, y: 394.07, width: 34.79, height: 21.43 }, { x: 299.22, y: 419.69, width: 12.16, height: 10.5 },
      ],
      path: "M305.3,437.17a.52.52,0,0,1-.52-.46l-.33-4.2H298.9a.51.51,0,0,1-.5-.5v-2.24h-2.34a.5.5,0,0,1-.5-.5.51.51,0,0,1,.5-.5h2.84a.5.5,0,0,1,.5.5v2.24h5.51a.49.49,0,0,1,.38.17.48.48,0,0,1,.37-.17h5.52v-2.24a.5.5,0,0,1,.5-.5h2.84a.51.51,0,0,1,.5.5.5.5,0,0,1-.5.5h-2.34V432a.5.5,0,0,1-.5.5h-5.55l-.33,4.2A.5.5,0,0,1,305.3,437.17Z"
    },    
    { id: 43, title: "T43", reserved: true, seats: [
      { x: 322.73, y: 394.07, width: 34.79, height: 21.43 }, { x: 334.02, y: 419.69, width: 12.16, height: 10.5 },
      ],
      path: "M340.1,437.17a.53.53,0,0,1-.53-.46l-.32-4.2H333.7a.5.5,0,0,1-.5-.5v-2.24h-2.34a.5.5,0,0,1-.5-.5.5.5,0,0,1,.5-.5h2.84a.51.51,0,0,1,.5.5v2.24h5.51a.47.47,0,0,1,.37.17.5.5,0,0,1,.38-.17H346v-2.24a.51.51,0,0,1,.5-.5h2.84a.5.5,0,0,1,.5.5.5.5,0,0,1-.5.5H347V432a.5.5,0,0,1-.5.5h-5.55l-.32,4.2A.5.5,0,0,1,340.1,437.17Z"
    },    
    { id: 44, title: "T44", reserved: true, seats: [
      { x: 357.53, y: 394.07, width: 34.79, height: 21.43 }, { x: 368.81, y: 419.69, width: 12.16, height: 10.5 },
      ],
      path: "M374.89,437.17a.52.52,0,0,1-.52-.46l-.33-4.2h-5.55a.5.5,0,0,1-.5-.5v-2.24h-2.34a.5.5,0,0,1-.5-.5.51.51,0,0,1,.5-.5h2.84a.5.5,0,0,1,.5.5v2.24h5.51a.49.49,0,0,1,.38.17.48.48,0,0,1,.37-.17h5.52v-2.24a.5.5,0,0,1,.5-.5h2.84a.51.51,0,0,1,.5.5.5.5,0,0,1-.5.5h-2.34V432a.51.51,0,0,1-.5.5h-5.55l-.33,4.2A.5.5,0,0,1,374.89,437.17Z"
    },    
    { id: 45, title: "T45", reserved: true, seats: [
      { x: 287.94, y: 462.85, width: 34.79, height: 21.43 }, { x: 299.22, y: 448.17, width: 12.16, height: 10.5 },
      ],
      path: "M305.3,441.19a.52.52,0,0,0-.52.46l-.33,4.2H298.9a.5.5,0,0,0-.5.5v2.23h-2.34a.5.5,0,0,0,0,1h2.84a.5.5,0,0,0,.5-.5v-2.23h5.51a.5.5,0,0,1,.75,0h5.52v2.23a.5.5,0,0,0,.5.5h2.84a.5.5,0,0,0,0-1h-2.34v-2.23a.5.5,0,0,0-.5-.5h-5.55l-.33-4.2A.5.5,0,0,0,305.3,441.19Z"
    },    
    { id: 46, title: "T46", reserved: true, seats: [
      { x: 322.73, y: 462.85, width: 34.79, height: 21.43 }, { x: 334.02, y: 448.17, width: 12.16, height: 10.5 },
      ],
      path: "M340.1,441.19a.53.53,0,0,0-.53.46l-.32,4.2H333.7a.5.5,0,0,0-.5.5v2.23h-2.34a.5.5,0,0,0,0,1h2.84a.5.5,0,0,0,.5-.5v-2.23h5.51a.5.5,0,0,0,.37-.17.54.54,0,0,0,.38.17H346v2.23a.5.5,0,0,0,.5.5h2.84a.5.5,0,0,0,0-1H347v-2.23a.5.5,0,0,0-.5-.5h-5.55l-.32-4.2A.5.5,0,0,0,340.1,441.19Z"
    },    
    { id: 47, title: "T47", reserved: false, seats: [
      { x: 357.53, y: 462.85, width: 34.79, height: 21.43 }, { x: 368.81, y: 448.17, width: 12.16, height: 10.5 },
      ],
      path: "M374.89,441.19a.52.52,0,0,0-.52.46l-.33,4.2h-5.55a.5.5,0,0,0-.5.5v2.23h-2.34a.5.5,0,0,0,0,1h2.84a.5.5,0,0,0,.5-.5v-2.23h5.51a.5.5,0,0,1,.75,0h5.52v2.23a.5.5,0,0,0,.5.5h2.84a.5.5,0,0,0,0-1h-2.34v-2.23a.5.5,0,0,0-.5-.5h-5.55l-.33-4.2A.5.5,0,0,0,374.89,441.19Z"
    },        
    { id: 48, title: "T48", reserved: true, seats: [
      { x: 287.94, y: 484.28, width: 34.79, height: 21.43 }, { x: 299.22, y: 509.9, width: 12.16, height: 10.5 },
      ],
      path: "M305.3,527.38a.52.52,0,0,1-.52-.46l-.33-4.2H298.9a.51.51,0,0,1-.5-.5V520h-2.34a.5.5,0,0,1-.5-.5.51.51,0,0,1,.5-.5h2.84a.5.5,0,0,1,.5.5v2.24h5.51a.49.49,0,0,1,.38.17.48.48,0,0,1,.37-.17h5.52v-2.24a.5.5,0,0,1,.5-.5h2.84a.51.51,0,0,1,.5.5.5.5,0,0,1-.5.5h-2.34v2.24a.5.5,0,0,1-.5.5h-5.55l-.33,4.2A.5.5,0,0,1,305.3,527.38Z"
    },           
    { id: 49, title: "T49", reserved: true, seats: [
      { x: 322.73, y: 484.28, width: 34.79, height: 21.43 }, { x: 334.02, y: 509.9, width: 12.16, height: 10.5 },
      ],
      path: "M340.1,527.38a.53.53,0,0,1-.53-.46l-.32-4.2H333.7a.5.5,0,0,1-.5-.5V520h-2.34a.5.5,0,0,1-.5-.5.5.5,0,0,1,.5-.5h2.84a.51.51,0,0,1,.5.5v2.24h5.51a.47.47,0,0,1,.37.17.5.5,0,0,1,.38-.17H346v-2.24a.51.51,0,0,1,.5-.5h2.84a.5.5,0,0,1,.5.5.5.5,0,0,1-.5.5H347v2.24a.5.5,0,0,1-.5.5h-5.55l-.32,4.2A.5.5,0,0,1,340.1,527.38Z"
    },    
    { id: 50, title: "T50", reserved: true, seats: [
      { x: 357.53, y: 484.28, width: 34.79, height: 21.43 }, { x: 368.81, y: 509.9, width: 12.16, height: 10.5 },
      ],
      path: "M374.89,527.38a.52.52,0,0,1-.52-.46l-.33-4.2h-5.55a.5.5,0,0,1-.5-.5V520h-2.34a.5.5,0,0,1-.5-.5.51.51,0,0,1,.5-.5h2.84a.5.5,0,0,1,.5.5v2.24h5.51a.49.49,0,0,1,.38.17.48.48,0,0,1,.37-.17h5.52v-2.24a.5.5,0,0,1,.5-.5h2.84a.51.51,0,0,1,.5.5.5.5,0,0,1-.5.5h-2.34v2.24a.51.51,0,0,1-.5.5h-5.55l-.33,4.2A.5.5,0,0,1,374.89,527.38Z"
    }, 
];









const SeatSpace = () => {
  const seatmapRef = useRef(null);
  const [blocks, setBlocks] = useState(initialBlocks);



  const handleSeatClick = (block) => {
    setBlocks(blocks.map(b =>
      b.id === block.id ? { ...b, available: !b.available} : b
    ));

    const selectedSeats = formatSelectedSeats();
    console.log('Selected Seats:', selectedSeats);
  };

  const getSelectedSeats = () => {
    if (seatmapRef.current) {
      return seatmapRef.current.getSelectedSeats();
    }
    return [];
  };

  const formatSelectedSeats = () => {
    const selectedSeats = getSelectedSeats();
    return selectedSeats.map(seat => ({
      blockId: seat.blockId,
      coordinates: {
        x: seat.x,
        y: seat.y,
        width: seat.width,
        height: seat.height
      }
    }));
  };

  return (
    <Container>
      <Title>Selecciona tu Asiento</Title>
      <SvgComponent blocks={blocks} onSeatClick={handleSeatClick} config={config} /> {/* Renderiza el SVG con los bloques */}
      <Seatmap
        ref={seatmapRef}
        seatClick={handleSeatClick}
        blocks={blocks}
        config={config}
      />
    </Container>
  );
};

export { SeatSpace };
